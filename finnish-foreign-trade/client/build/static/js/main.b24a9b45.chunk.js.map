{"version":3,"sources":["services/countryService.js","reducers/isLoadingReducer.js","reducers/countryReducer.js","services/dataService.js","reducers/tradeDataReducer.js","reducers/yearReducer.js","reducers/colorModeReducer.js","store.js","components/CountryData/CountryDataTable.js","components/CountryData/TradePartnerRankDetails.js","components/CountryData/CountryDataWrapper.js","components/CountryData/CountrySearch.js","components/Footer/Footer.js","components/FlowButtons/FlowButtons.js","components/Map/Map.js","components/Map/MapWrapper.js","components/NavBar/NavBar.js","components/ProductsTreeMap/ProductsTreeMap.js","components/ProductsTreeMap/TreeMapWrapper.js","components/TradeBalanceChart/D3TradeBalanceChart.js","App.js","index.js"],"names":["getCountryCodes","a","axios","get","response","data","isLoading","state","action","type","countryCodes","payload","getImports","year","getExports","getTradeBalance","getSitc2Data","flow","getSitc2CountryData","country","code","getTradePartnerRankings","tradeData","exportsData","importsData","sitc2Data","tradePartnerRankings","tradeBalance","darkModeActive","combinedReducer","combineReducers","store","createStore","composeWithDevTools","applyMiddleware","thunk","CountryDataTable","length","Header","as","style","margin","name","Table","inverted","basic","compact","celled","selectable","singleLine","className","Body","map","product","Row","key","group","Cell","d3","value","indicator","require","TradePartnerRankDetails","tradePartnerRanking","indicatorText","rank","Statistic","Label","Value","CountryDataWrapper","setCountry","setCountryFilter","console","log","useState","countryImports","setCountryImports","countryExports","setCountryExports","find","c","id","toUpperCase","getTopProductCategories","amount","slice","filter","useEffect","dataService","then","res","Dimmer","active","Loader","Button","icon","circular","onClick","Icon","size","src","alt","Grid","container","stackable","Column","width","CountrySearch","handleCountryFilterChange","setValue","setIsLoading","results","setResults","undefined","countryNames","title","Search","placeholder","loading","onResultSelect","e","result","onSearchChange","_","debounce","re","RegExp","escapeRegExp","foundResults","test","leading","resultRenderer","Footer","Menu","secondary","Item","link","href","FlowButtons","setFlow","exportsActive","position","bottom","left","zIndex","Group","toggle","content","Map","imports","exports","chart","useRef","am4core","am4themes_dark","am4themes_animated","am4maps","geodata","am4geodata_worldLow","projection","Mercator","zoomControl","backgroundSeries","mapPolygons","template","polygon","fill","fillOpacity","chartContainer","wheelable","window","innerHeight","innerWidth","homeZoomLevel","minZoomLevel","homeGeoPoint","latitude","longitude","maxPanOut","prepareDataSeries","baseColor","dataSeries","charAt","heatRules","push","property","target","min","brighten","max","useGeodata","exclude","tooltip","getFillFromObject","background","tooltipHTML","label","interactionsEnabled","nonScalingStroke","strokeWidth","states","create","properties","formatFinlandPolygon","events","on","finland","getPolygonById","tooltipText","hoverable","exportsSeries","importsSeries","hidden","series","current","dispose","getIndex","show","hide","height","overflow","MapWrapper","NavBar","dispatch","useDispatch","header","Dropdown","onChange","event","setYear","options","text","selection","Checkbox","ProductsTreeMap","am4themes_spiritedaway","treemap","am4charts","responsive","enabled","dataFields","children","level1","seriesTemplates","level1_column","columns","pointerOrientation","legend","paddingTop","itemContainers","labels","adapter","add","rgb","maxLevels","rules","relevant","widthXL","stateId","sprite","clickable","focusable","paddingRight","paddingLeft","textAlign","TreeMapWrapper","D3TradeBalanceChart","ref","orientation","x0","x1","y","svg","padding","colors","range","keys","keyDescriptions","maxValue","Math","d","append","attr","drawChart","showTooltip","tooltipHtml","html","hideTooltip","moveTooltip","tooltipOffset","pageX","pageY","document","documentElement","clientWidth","clientHeight","remove","drawChartBase","filteredData","filterData","domain","sort","b","rangeRound","paddingInner","bandwidth","nice","generateHorizontalChartScales","call","g","tickSize","select","selectAll","ticks","tickSizeInner","tickFormat","join","transition","ease","duration","this","darker","enter","i","generateLegend","App","countryFilter","useSelector","initializeTradeData","Container","fluid","countryName","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.b24a9b45.chunk.js","sourcesContent":["import axios from 'axios'\n\nconst getCountryCodes = async () => {\n  const response = await axios.get('/countries')\n  return response.data\n}\n\nexport default getCountryCodes\n","const isLoading = (state = false, action) => {\n  switch (action.type) {\n    case 'START_LOADING':\n      return true\n    case 'FINISH_LOADING':\n      return false\n    default:\n      return state\n  }\n}\n\nexport const startLoading = () => {\n  return dispatch => {\n    dispatch({\n      type: 'START_LOADING',\n    })\n  }\n}\n\nexport const finishLoading = () => {\n  return dispatch => {\n    dispatch({\n      type: 'FINISH_LOADING',\n    })\n  }\n}\n\nexport default isLoading","import getCountryCodes from '../services/countryService'\nimport { startLoading } from './isLoadingReducer'\n\nconst countryCodes = (state = [], action) => {\n  switch (action.type) {\n    case 'INIT_COUNTRYCODES':\n      return action.payload\n    default:\n      return state\n  }\n}\n\nexport const initializeCountryCodes = () => {\n  return async dispatch => {\n    dispatch(startLoading())\n    const countryCodes = await getCountryCodes()\n    dispatch({\n      type: 'INIT_COUNTRYCODES',\n      payload: countryCodes,\n    })\n  }\n}\n\nexport default countryCodes\n","import axios from 'axios'\n\nconst getImports = async year => {\n  const response = await axios.get(`/imports/${year}`)\n  return response.data\n}\n\nconst getExports = async year => {\n  const response = await axios.get(`/exports/${year}`)\n  return response.data\n}\n\nconst getTradeBalance = async () => {\n  const response = await axios.get('/tradebalance')\n  return response.data\n}\n\nconst getSitc2Data = async (year, flow) => {\n  const response = await axios.get(`/SITC2/${flow}/${year}`)\n  return response.data\n}\n\nconst getSitc2CountryData = async (flow, year, country) => {\n  const response = await axios.get(`/SITC2/${flow}/${year}/${country.code}`)\n  return response.data\n}\n\nconst getTradePartnerRankings = async year => {\n  const response = await axios.get(`/tradepartners/${year}`)\n  return response.data\n}\n\nexport default {\n  getImports,\n  getExports,\n  getTradeBalance,\n  getSitc2Data,\n  getSitc2CountryData,\n  getTradePartnerRankings,\n}\n","import dataService from '../services/dataService'\nimport { startLoading, finishLoading } from './isLoadingReducer'\n\nconst tradeData = (state = {}, action) => {\n  switch (action.type) {\n    case 'INIT_TRADEDATA':\n      return {\n        ...state,\n        exportsData: action.exportsData,\n        importsData: action.importsData,\n        sitc2Data: action.sitc2Data,\n        tradePartnerRankings: action.tradePartnerRankings,\n      }\n    case 'INIT_TRADE_BALANCE_DATA':\n      return {\n        ...state,\n        tradeBalance: action.tradeBalance,\n      }\n    default:\n      return state\n  }\n}\n\nexport const initializeTradeData = year => {\n  return async dispatch => {\n    dispatch(startLoading())\n    const exportsData = await dataService.getExports(year)\n    const importsData = await dataService.getImports(year)\n    const sitc2Data = await dataService.getSitc2Data(year, 'total')\n    const tradePartnerRankings = await dataService.getTradePartnerRankings(year)\n    dispatch({\n      type: 'INIT_TRADEDATA',\n      exportsData: exportsData,\n      importsData: importsData,\n      sitc2Data: sitc2Data,\n      tradePartnerRankings: tradePartnerRankings,\n    })\n    dispatch(finishLoading())\n  }\n}\n\nexport const initializeTradeBalanceData = () => {\n  return async dispatch => {\n    dispatch(startLoading())\n    const tradeBalance = await dataService.getTradeBalance()\n    dispatch({\n      type: 'INIT_TRADE_BALANCE_DATA',\n      tradeBalance: tradeBalance,\n    })\n  }\n}\n\nexport default tradeData\n","import {startLoading} from './isLoadingReducer'\n\nconst year = (state = 2019, action) => {\n  switch (action.type) {\n    case 'SET_YEAR':\n      return action.year\n    default:\n      return state\n  }\n}\n\nexport const setYear = year => {\n  return dispatch => {\n    dispatch(startLoading())\n    dispatch({\n      type: 'SET_YEAR',\n      year: year,\n    })\n  }\n}\n\nexport default year\n","const darkModeActive = (state = true, action) => {\n  switch (action.type) {\n    case 'CHANGE_MODE':\n      return !state\n    default:\n      return state\n  }\n}\n\nexport const changeColorMode = () => {\n  return dispatch => {\n    dispatch({\n      type: 'CHANGE_MODE',\n    })\n  }\n}\n\nexport default darkModeActive\n","import { applyMiddleware, combineReducers, createStore } from 'redux'\nimport { composeWithDevTools } from 'redux-devtools-extension'\nimport thunk from 'redux-thunk'\nimport countryCodes from './reducers/countryReducer'\nimport tradeData from './reducers/tradeDataReducer'\nimport year from './reducers/yearReducer'\nimport darkModeActive from './reducers/colorModeReducer'\nimport isLoading from './reducers/isLoadingReducer'\n\nconst combinedReducer = combineReducers({\n  tradeData,\n  countryCodes,\n  year,\n  darkModeActive,\n  isLoading,\n})\n\nconst store = createStore(combinedReducer, composeWithDevTools(applyMiddleware(thunk)))\n\nexport default store\n","import React from 'react'\nimport * as d3 from 'd3'\nimport { Table, Header } from 'semantic-ui-react'\n\nconst CountryDataTable = ({ country, tradeData, flow }) => {\n  if (tradeData.length === 0) {\n    return <div>No data available</div>\n  }\n\n  return (\n    <>\n      <Header as='h3' style={{ margin: 0 }}>\n        {flow === 'exports'\n          ? `Main exports from Finland to ${country.name}`\n          : `Main imports from ${country.name} to Finland`}\n      </Header>\n      <Table inverted basic='very' compact celled selectable singleLine className='table-compact'>\n        <Table.Body>\n          {tradeData.map(product => (\n            <Table.Row key={product.group}>\n              <Table.Cell>{product.group}</Table.Cell>\n              <Table.Cell>{d3.format(',')(product.value)} €</Table.Cell>\n            </Table.Row>\n          ))}\n        </Table.Body>\n      </Table>\n    </>\n  )\n}\n\nexport default CountryDataTable\n","import React from 'react'\nimport { Statistic } from 'semantic-ui-react'\nconst indicator = require('ordinal/indicator')\n\nconst TradePartnerRankDetails = ({ country, tradePartnerRanking }) => {\n  const indicatorText = indicator(tradePartnerRanking.rank)\n\n  return (\n    <Statistic inverted>\n      <Statistic.Label>Finland's</Statistic.Label>\n      <Statistic.Value>\n        {tradePartnerRanking.rank}\n        <sup>{indicatorText}</sup>\n      </Statistic.Value>\n      <Statistic.Label>largest trade partner</Statistic.Label>\n    </Statistic>\n  )\n}\n\nexport default TradePartnerRankDetails\n","import React, { useState, useEffect } from 'react'\nimport dataService from '../../services/dataService'\nimport { Grid, Button, Icon, Dimmer, Loader, Header } from 'semantic-ui-react'\nimport CountryDataTable from './CountryDataTable'\nimport './CountryData.scss'\nimport TradePartnerRankDetails from './TradePartnerRankDetails'\n\nconst CountryDataWrapper = ({\n  country,\n  setCountry,\n  setCountryFilter,\n  year,\n  tradePartnerRankings,\n}) => {\n  console.log(country)\n\n  const [countryImports, setCountryImports] = useState([])\n  const [countryExports, setCountryExports] = useState([])\n\n  const tradePartnerRanking = tradePartnerRankings?.find(c => c.id === country?.code?.toUpperCase())\n\n  console.log(tradePartnerRanking)\n\n  const getTopProductCategories = (data, amount) =>\n    data.slice(0, amount).filter(product => product.value !== null)\n\n  useEffect(() => {\n    dataService.getSitc2CountryData('imports', year, country).then(res => {\n      setCountryImports(res)\n    })\n    dataService.getSitc2CountryData('exports', year, country).then(res => {\n      setCountryExports(res)\n    })\n  }, [country, year])\n\n  if (country === '') {\n    return null\n  }\n\n  if (countryImports.length === 0 && countryExports.length === 0) {\n    return (\n      <Dimmer active>\n        <Loader />\n      </Dimmer>\n    )\n  }\n\n  return (\n    <>\n      <Button\n        icon\n        circular\n        className='back-button'\n        onClick={() => {\n          setCountryFilter('')\n          setCountry([])\n        }}>\n        <Icon name='angle left' size='large' />\n      </Button>\n      <Header as='h2'>\n        Finland's trade with {country.name} ({year})\n        <span>\n          <img\n            className='flag'\n            src={`https://www.countryflags.io/${country.code}/flat/64.png`}\n            alt={`Flag of ${country.name}`}></img>\n        </span>\n      </Header>\n      <Grid container stackable celled='internally'>\n        <Grid.Column width={4}>\n          <TradePartnerRankDetails tradePartnerRanking={tradePartnerRanking} />\n        </Grid.Column>\n        <Grid.Column width={12}>\n          <CountryDataTable\n            country={country}\n            tradeData={getTopProductCategories(countryExports, 5)}\n            flow={'exports'}\n          />\n          <CountryDataTable\n            country={country}\n            tradeData={getTopProductCategories(countryImports, 5)}\n            flow={'imports'}\n          />\n        </Grid.Column>\n      </Grid>\n    </>\n  )\n}\n\nexport default CountryDataWrapper\n","import React, { useState } from 'react'\nimport { Search } from 'semantic-ui-react'\nimport _ from 'lodash'\n\nconst CountrySearch = ({ handleCountryFilterChange, countryCodes }) => {\n  const [value, setValue] = useState('')\n  const [isLoading, setIsLoading] = useState(false)\n  const [results, setResults] = useState([])\n\n  if (countryCodes === undefined) {\n    return null\n  }\n\n  const countryNames = countryCodes.map((c) => ({\n    title: c.name,\n    key: c.code,\n  }))\n\n  const resultRenderer = ({ title }) => <div>{title}</div>\n\n  const handleResultSelect = (e, { result }) => {\n    setValue(result.title)\n    handleCountryFilterChange(result.title)\n  }\n\n  const handleSearchChange = (e, { value }) => {\n    setIsLoading(true)\n    setValue(value)\n\n    setIsLoading(true)\n    setValue(value)\n\n    if (value.length < 1) {\n      setValue('')\n      setIsLoading(false)\n      setResults([])\n      return\n    }\n\n    const re = new RegExp(_.escapeRegExp(value), 'i')\n    const isMatch = (result) => re.test(result.title)\n\n    setIsLoading(false)\n\n    const foundResults = _.filter(countryNames, isMatch)\n\n    if (foundResults.length > 20) {\n      setResults([{ title: 'Please narrow down your search.' }])\n    } else {\n      setResults(foundResults)\n    }\n    if (results.length === 1) {\n      handleCountryFilterChange(results[0].title)\n    }\n  }\n\n  return (\n    <Search\n      placeholder='Search...'\n      loading={isLoading}\n      onResultSelect={handleResultSelect}\n      onSearchChange={_.debounce(handleSearchChange, 500, {\n        leading: true,\n      })}\n      results={results}\n      resultRenderer={resultRenderer}\n      value={value}\n    />\n  )\n}\n\nexport default CountrySearch\n","import React from 'react'\nimport { Menu } from 'semantic-ui-react'\nimport './Footer.scss'\n\nconst Footer = ({ darkModeActive }) => {\n  return (\n    <Menu secondary className={darkModeActive ? 'footer inverted dark-mode' : 'footer'} >\n      <Menu.Item link as='a' href='https://github.com/joonaspartanen/finnish-foreign-trade'>\n        About\n      </Menu.Item>\n    </Menu>\n  )\n}\n\nexport default Footer\n","import React from 'react'\nimport { Button } from 'semantic-ui-react'\n\nconst FlowButtons = ({ flow, setFlow }) => {\n\n  const exportsActive = flow === 'exports'\n\n  return (\n    <div style={{ position: 'absolute', bottom: '2em', left: '2em', zIndex: '1' }}>\n      <Button.Group>\n        <Button\n          toggle\n          active={exportsActive}\n          content='Exports'\n          onClick={value => {\n            if (!exportsActive) {\n              setFlow('exports')\n            }\n          }}\n        />\n        <Button\n          toggle\n          active={!exportsActive}\n          content='Imports'\n          onClick={value => {\n            if (exportsActive) {\n              setFlow('imports')\n            }\n          }}\n        />\n      </Button.Group>\n    </div>\n  )\n}\n\nexport default FlowButtons\n","import am4themes_animated from '@amcharts/amcharts4/themes/animated'\nimport am4geodata_worldLow from '@amcharts/amcharts4-geodata/worldLow'\nimport * as am4core from '@amcharts/amcharts4/core'\nimport * as am4maps from '@amcharts/amcharts4/maps'\nimport am4themes_dark from '@amcharts/amcharts4/themes/dark'\nimport React, { useEffect, useRef } from 'react'\n\nconst Map = ({ imports, exports, flow }) => {\n  const chart = useRef(null)\n\n  am4core.useTheme(am4themes_dark)\n  am4core.useTheme(am4themes_animated)\n\n  useEffect(() => {\n    const map = am4core.create('mapdiv', am4maps.MapChart)\n\n    map.geodata = am4geodata_worldLow\n    map.projection = new am4maps.projections.Mercator()\n    map.zoomControl = new am4maps.ZoomControl()\n    map.backgroundSeries.mapPolygons.template.polygon.fill = am4core.color('#eee')\n    map.backgroundSeries.mapPolygons.template.polygon.fillOpacity = 1\n    map.chartContainer.wheelable = false\n\n    //Use orthographic map projection\n    //map.projection = new am4maps.projections.Orthographic()\n    //map.panBehavior = 'rotateLongLat'\n    //const graticuleSeries = map.series.push(new am4maps.GraticuleSeries())\n    //graticuleSeries.mapLines.template.line.stroke = am4core.color('#67b7dc')\n    //graticuleSeries.mapLines.template.line.strokeOpacity = 0.2\n    //graticuleSeries.fitExtent = false\n\n    // The initial zoom level must be higher if using portrait view.\n    if (window.innerHeight > window.innerWidth) {\n      map.homeZoomLevel = 5\n      map.minZoomLevel = 5\n    } else {\n      map.homeZoomLevel = 2\n      map.minZoomLevel = 2\n    }\n\n    map.homeGeoPoint = {\n      latitude: 50,\n      longitude: 11,\n    }\n\n    map.maxPanOut = 0\n\n    const prepareDataSeries = flow => {\n      const baseColor = flow === 'exports' ? '#18447e' : '#a01c0c'\n      const hoverColor = '#666'\n\n      const dataSeries = new am4maps.MapPolygonSeries()\n      dataSeries.name = flow.charAt(0).toUpperCase() + flow.slice(1)\n      dataSeries.id = flow\n      dataSeries.heatRules.push({\n        property: 'fill',\n        target: dataSeries.mapPolygons.template,\n        min: am4core.color(baseColor).brighten(2.4),\n        max: am4core.color(baseColor).brighten(-0.4),\n      })\n      dataSeries.useGeodata = true\n      dataSeries.exclude = ['AQ', 'SJ']\n      dataSeries.data = flow === 'exports' ? exports : imports\n\n      dataSeries.tooltip.getFillFromObject = false\n      dataSeries.tooltip.background.fill = am4core.color('#333')\n      dataSeries.tooltip.background.fillOpacity = 0.9\n\n      dataSeries.mapPolygons.template.tooltipHTML = `\n      <div>\n        Total ${\n          flow === 'exports' ? 'exports from Finland to {name}' : 'imports from {name} to Finland'\n        } ({year.formatNumber('#')}):\n        <br>\n        {euros} €\n      </div>\n      `\n      dataSeries.tooltip.label.interactionsEnabled = true\n\n      dataSeries.mapPolygons.template.nonScalingStroke = true\n      dataSeries.mapPolygons.template.strokeWidth = 0.5\n\n      const hoverState = dataSeries.mapPolygons.template.states.create('hover')\n      hoverState.properties.fill = am4core.color(hoverColor)\n\n      formatFinlandPolygon(dataSeries)\n\n      return dataSeries\n    }\n\n    const formatFinlandPolygon = dataSeries => {\n      map.events.on('ready', () => {\n        const finland = dataSeries.getPolygonById('FI')\n        finland.fill = am4core.color('#FFF')\n        finland.tooltipText = ''\n        finland.tooltipHTML = null\n        finland.hoverable = false\n      })\n    }\n\n    const exportsSeries = prepareDataSeries('exports')\n    const importsSeries = prepareDataSeries('imports')\n    importsSeries.hidden = true\n\n    map.series.push(exportsSeries)\n    map.series.push(importsSeries)\n\n    console.log('map ready')\n\n    chart.current = map\n\n    return () => {\n      map.dispose()\n    }\n  }, [imports, exports])\n\n  useEffect(() => {\n    const exportsSeries = chart.current.series.getIndex(0)\n    const importsSeries = chart.current.series.getIndex(1)\n\n    if (flow === 'exports') {\n      exportsSeries.show()\n      importsSeries.hide()\n    } else {\n      importsSeries.show()\n      exportsSeries.hide()\n    }\n  }, [flow])\n\n  return <div id='mapdiv' style={{ width: '100%', height: '100%', overflow: 'hidden' }}></div>\n}\n\nexport default Map\n","import React, { useState } from 'react'\nimport { Dimmer, Loader } from 'semantic-ui-react'\nimport FlowButtons from '../FlowButtons/FlowButtons'\nimport Map from './Map'\n\nconst MapWrapper = ({ imports, exports }) => {\n  const [flow, setFlow] = useState('exports')\n\n  if (imports === undefined || exports === undefined) {\n    return (\n      <Dimmer active>\n        <Loader />\n      </Dimmer>\n    )\n  }\n\n  return (\n    <>\n      <FlowButtons flow={flow} setFlow={setFlow} />\n      <Map imports={imports} exports={exports} flow={flow} />\n    </>\n  )\n}\n\nexport default MapWrapper\n","import React from 'react'\nimport { Menu, Dropdown, Checkbox, Icon } from 'semantic-ui-react'\nimport { useDispatch } from 'react-redux'\nimport { changeColorMode } from '../../reducers/colorModeReducer'\nimport { setYear } from '../../reducers/yearReducer'\nimport './NavBar.scss'\n\nconst NavBar = ({ year, darkModeActive }) => {\n  const dispatch = useDispatch()\n\n  const years = [\n    { key: 2019, text: '2019', value: 2019 },\n    { key: 2018, text: '2018', value: 2018 },\n    { key: 2017, text: '2017', value: 2017 },\n    { key: 2016, text: '2016', value: 2016 },\n    { key: 2015, text: '2015', value: 2015 },\n    { key: 2014, text: '2014', value: 2014 },\n    { key: 2013, text: '2013', value: 2013 },\n    { key: 2012, text: '2012', value: 2012 },\n  ]\n\n  return (\n    <Menu\n      as='nav'\n      stackable\n      size='large'\n      className={darkModeActive ? 'navbar dark-mode' : 'navbar'}>\n      <Menu.Item header>Finnish Foreign Trade Visualized</Menu.Item>\n      <Menu.Item link as='a' href='#trade-map'>\n        Trade Map\n      </Menu.Item>\n      <Menu.Item link as='a' href='#trade-balance'>\n        Trade Balance\n      </Menu.Item>\n      <Menu.Item link as='a' href='#imports-by-product'>\n        By product group\n      </Menu.Item>\n      <Menu.Item link as='a' href='#trade-partners'>\n        By trade partner\n      </Menu.Item>\n      <Menu.Item>\n        <Dropdown\n          onChange={(event, { value }) => dispatch(setYear(value))}\n          options={years}\n          placeholder='Year'\n          selection\n          value={year}\n        />\n      </Menu.Item>\n      <Menu.Item className='color-mode-toggle'>\n        <Icon name='moon'></Icon>\n        <Checkbox onChange={() => dispatch(changeColorMode())} toggle></Checkbox>\n        <Icon name='sun'></Icon>\n      </Menu.Item>\n    </Menu>\n  )\n}\n\nexport default NavBar\n","import * as am4charts from '@amcharts/amcharts4/charts'\nimport * as am4core from '@amcharts/amcharts4/core'\nimport am4themes_animated from '@amcharts/amcharts4/themes/animated'\nimport am4themes_spiritedaway from '@amcharts/amcharts4/themes/spiritedaway'\nimport React, { useRef, useEffect } from 'react'\nimport { Header } from 'semantic-ui-react'\n\nconst ProductsTreeMap = ({ sitc2Data, flow, year }) => {\n  const chart = useRef(null)\n\n  am4core.useTheme(am4themes_animated)\n  am4core.useTheme(am4themes_spiritedaway)\n\n  useEffect(() => {\n    let treemap = am4core.create('products-treemap-div', am4charts.TreeMap)\n    treemap.responsive.enabled = true\n\n    treemap.data = sitc2Data['exports']\n    treemap.dataFields.value = 'value'\n    treemap.dataFields.name = 'group'\n    treemap.dataFields.children = 'children'\n\n    let level1 = treemap.seriesTemplates.create('1')\n    let level1_column = level1.columns.template\n\n    level1_column.tooltipText = '{group}: {value} €'\n    level1.tooltip.pointerOrientation = 'down'\n\n    treemap.legend = new am4charts.Legend()\n    treemap.legend.position = 'bottom'\n    treemap.legend.paddingTop = 20\n    treemap.legend.itemContainers.template.tooltipText = '{group}'\n    treemap.legend.labels.template.text = ''\n\n    const level0_hoverState = treemap.seriesTemplates\n      .create('0')\n      .columns.template.states.create('hover')\n    level0_hoverState.adapter.add('fill', fill =>\n      am4core.color(am4core.colors.brighten(fill.rgb, -0.2))\n    )\n\n    const level1_hoverState = level1_column.states.create('hover')\n    level1_hoverState.adapter.add('fill', fill =>\n      am4core.color(am4core.colors.brighten(fill.rgb, -0.2))\n    )\n\n    treemap.maxLevels = 1\n\n    treemap.responsive.rules.push({\n      relevant: am4core.ResponsiveBreakpoints.widthXL,\n      state: (target, stateId) => {\n        if (target instanceof am4charts.Legend) {\n          let state = target.states.create(stateId)\n          state.sprite.itemContainers.template.clickable = false\n          state.sprite.itemContainers.template.focusable = false\n          return state\n        }\n        return null\n      },\n    })\n\n    chart.current = treemap\n\n    return () => {\n      treemap.dispose()\n    }\n  }, [sitc2Data])\n\n  useEffect(() => {\n    chart.current.data = sitc2Data[flow]\n  }, [sitc2Data, flow])\n\n  return (\n    <div\n      style={{\n        width: '100%',\n        height: '100vh',\n        paddingTop: '3em',\n        paddingRight: '10vw',\n        paddingLeft: '10vw',\n        textAlign: 'center',\n      }}>\n      <Header as='h2'>\n        Finnish {flow} by product category ({year})\n      </Header>\n      <div id='products-treemap-div' style={{ width: '100%', height: '90%' }}></div>\n    </div>\n  )\n}\n\nexport default ProductsTreeMap\n","import React, { useState } from 'react'\nimport { Dimmer, Loader } from 'semantic-ui-react'\nimport FlowButtons from '../FlowButtons/FlowButtons'\nimport ProductsTreeMap from './ProductsTreeMap'\n\nconst TreeMapWrapper = ({ sitc2Data, year }) => {\n  const [flow, setFlow] = useState('exports')\n\n  if (sitc2Data === undefined) {\n    return (\n      <Dimmer active>\n        <Loader />\n      </Dimmer>\n    )\n  }\n\n  return (\n    <>\n      <FlowButtons flow={flow} setFlow={setFlow} />\n      <ProductsTreeMap sitc2Data={sitc2Data} flow={flow} year={year} />\n    </>\n  )\n}\n\nexport default TreeMapWrapper\n","import React, { useEffect, useRef } from 'react'\nimport { Header } from 'semantic-ui-react'\nimport * as d3 from 'd3'\nimport './D3TradeBalanceChart.scss'\nconst debounce = require('lodash.debounce')\n\nconst D3TradeBalanceChart = ({ tradeBalance, darkModeActive }) => {\n  const ref = useRef()\n\n  const data = tradeBalance\n\n  useEffect(() => {\n    if (!data) {\n      return\n    }\n\n    const margin = { TOP: 40, RIGHT: 40, BOTTOM: 80, LEFT: 40 }\n    const padding = { TOP: 20, RIGHT: 10, BOTTOM: 20, LEFT: 10 }\n    let width\n    let height\n    let orientation\n    const colors = d3.scaleOrdinal().range(['#18447e', '#A31E0F'])\n    const keys = ['imports', 'exports']\n    const keyDescriptions = {\n      imports: 'Total value of goods imported to Finland',\n      exports: 'Total value of goods exported from Finland',\n    }\n    const maxValue = Math.max(d3.max(data.map(d => d.imports)), d3.max(data.map(d => d.exports)))\n\n    // Define scale variables\n    let x0\n    let x1\n    let y\n\n    const tooltip = d3.select('body').append('div').attr('class', 'd3-tooltip')\n    const chart = d3.select(ref.current)\n    let svg\n\n    drawChart()\n\n    function drawChart() {\n      console.log('drawing chart')\n      drawChartBase()\n      generateHorizontalChartScales()\n      appendAxes()\n      appendData()\n      setOnHoverActions()\n      generateLegend()\n      console.log('chart ready')\n    }\n\n    d3.select(window).on('resize', debounce(onResize, 800))\n\n    function onResize() {\n      console.log('resizing')\n      drawChart()\n    }\n\n    function drawChartBase() {\n      width =\n        Math.max(window.innerWidth, document.documentElement.clientWidth) -\n        margin.RIGHT -\n        margin.LEFT\n      height =\n        Math.max(window.innerHeight, document.documentElement.clientHeight) -\n        margin.TOP -\n        margin.BOTTOM\n      orientation = width >= height ? 'horizontal' : 'vertical'\n      console.log(`${width} x ${height}`)\n\n      if (svg) {\n        svg.remove()\n      }\n\n      svg = chart\n        .append('svg')\n        .attr('width', width + padding.RIGHT + padding.LEFT)\n        .attr('height', height + padding.TOP + padding.BOTTOM)\n        .attr(\n          'viewBox',\n          `0 0 ${width + padding.RIGHT + padding.LEFT} ${height + padding.TOP + padding.BOTTOM}`\n        )\n    }\n\n    function filterData(data) {\n      if (orientation === 'horizontal') {\n        return data\n      } else {\n        return data.slice(0, 4)\n      }\n    }\n\n    function generateHorizontalChartScales() {\n      const filteredData = filterData(data)\n      x0 = d3\n        .scaleBand()\n        .domain(filteredData.map(d => d.year).sort((a, b) => a - b))\n        .rangeRound([margin.LEFT, width - margin.RIGHT])\n        .paddingInner(0.1)\n\n      x1 = d3.scaleBand().domain(keys).rangeRound([0, x0.bandwidth()]).padding(0.05)\n\n      y = d3\n        .scaleLinear()\n        .domain([0, maxValue])\n        .nice()\n        .rangeRound([height - margin.TOP, margin.TOP])\n    }\n\n    function appendAxes() {\n      const xAxis = g =>\n        g\n          .attr('transform', `translate(0, ${height - margin.TOP + padding.BOTTOM})`)\n          .call(d3.axisBottom(x0).tickSize(0))\n          .call(g => g.select('.domain').remove())\n          .selectAll('text')\n\n      const yAxis = g =>\n        g\n          .attr('transform', `translate(${margin.LEFT}, 0)`)\n          .call(d3.axisLeft(y).ticks(null, 's').tickSizeInner(0))\n          .call(g => g.select('.domain').remove())\n\n      svg.append('g').call(xAxis)\n      svg.append('g').call(yAxis)\n\n      svg\n        .append('g')\n        .attr('class', 'grid')\n        .call(\n          d3\n            .axisLeft(y)\n            .tickSize(-width + margin.RIGHT + margin.LEFT)\n            .tickFormat('')\n        )\n        .attr('transform', `translate(${margin.LEFT + padding.LEFT}, 0)`)\n    }\n\n    function appendData() {\n      svg\n        .append('g')\n        .selectAll('g')\n        .data(filterData(data))\n        .join('g')\n        .attr('transform', d => `translate(${x0(d.year) + padding.LEFT}, 0)`)\n        .selectAll('rect')\n        .data(d => keys.map(key => ({ key, value: d[key] })))\n        .join('rect')\n        .attr('class', 'bar')\n        .attr('x', d => x1(d.key))\n        .attr('width', x1.bandwidth())\n        .attr('y', () => y(0))\n        .transition()\n        .ease(d3.easePoly)\n        .duration(1500)\n        .attr('y', d => y(d.value))\n        .attr('height', d => y(0) - y(d.value))\n        .attr('fill', d => colors(d.key))\n    }\n\n    function setOnHoverActions() {\n      svg\n        .selectAll('.bar')\n        .on('mouseover', function (d) {\n          d3.select(this)\n            .transition()\n            .duration(200)\n            .style('fill', d3.rgb(colors(d.key)).darker(1))\n\n          const tooltipHtml = `\n          <div>\n            Total ${d.key === 'imports' ? 'imports to' : 'exports from'} Finland:\n            <br>\n            ${d3.format(',')(d.value)}\n          €</div>\n          `\n          showTooltip(tooltip, tooltipHtml)\n        })\n        .on('mouseout', function (d) {\n          d3.select(this).transition().duration(200).style('fill', colors(d.key))\n          hideTooltip(tooltip)\n        })\n        .on('mousemove', () => moveTooltip(tooltip))\n    }\n\n    const showTooltip = (tooltip, tooltipHtml) => {\n      tooltip.style('display', 'block')\n      tooltip.html(tooltipHtml)\n    }\n\n    const hideTooltip = tooltip => {\n      tooltip.style('display', 'none')\n    }\n\n    const moveTooltip = tooltip => {\n      const distanceFromRightEdge = width - d3.event.pageX\n      const tooltipOffset = distanceFromRightEdge > 200 ? 30 : -220\n\n      tooltip\n        .style('left', `${d3.event.pageX + tooltipOffset}px`)\n        .style('top', `${d3.event.pageY - 65}px`)\n    }\n\n    function generateLegend() {\n      if (orientation === 'vertical') {\n        d3.select('.legend-wrapper').remove()\n        return\n      }\n\n      const legendWrapper = chart\n        .append('svg')\n        .attr('width', 300)\n        .attr('height', 30)\n        .attr('class', 'legend-wrapper')\n\n      const legend = legendWrapper\n        .selectAll('.legend')\n        .data(keys)\n        .enter()\n        .append('g')\n        .attr('class', 'legend')\n        .attr('transform', (d, i) => `translate(${i * 140}, 0)`)\n\n      legend\n        .append('rect')\n        .attr('x', 0)\n        .attr('y', 0)\n        .attr('width', 30)\n        .attr('height', 30)\n        .style('fill', d => colors(d))\n        .on('mouseover', d => {\n          const tooltipHtml = `<div>${keyDescriptions[d]}</div>`\n          showTooltip(tooltip, tooltipHtml)\n        })\n        .on('mousemove', () => moveTooltip(tooltip))\n        .on('mouseout', () => {\n          tooltip.style('display', 'none')\n        })\n\n      legend\n        .append('text')\n        .attr('x', 0)\n        .attr('y', 0)\n        .attr('transform', () => 'translate(40, 20)')\n        .attr('class', 'd3-legend-text')\n        .text(d => d.slice(0, 1).toUpperCase() + d.slice(1))\n    }\n  }, [data])\n\n  return (\n    <div\n      className={darkModeActive ? 'bar-chart dark-mode' : 'bar-chart'}\n      style={{\n        width: '100%',\n        height: '100vh',\n        paddingTop: '3em',\n        textAlign: 'center',\n      }}>\n      <Header as='h2'>Finnish Trade Balance</Header>\n      <div ref={ref}></div>\n    </div>\n  )\n}\n\nexport default D3TradeBalanceChart\n","import React, { useEffect, useState } from 'react'\nimport { useDispatch, useSelector } from 'react-redux'\nimport ScrollableAnchor from 'react-scrollable-anchor'\nimport { Container, Loader } from 'semantic-ui-react'\nimport CountryDataWrapper from './components/CountryData/CountryDataWrapper'\nimport CountrySearch from './components/CountryData/CountrySearch'\nimport Footer from './components/Footer/Footer'\nimport MapWrapper from './components/Map/MapWrapper'\nimport NavBar from './components/NavBar/NavBar'\nimport TreeMapWrapper from './components/ProductsTreeMap/TreeMapWrapper'\nimport D3TradeBalanceChart from './components/TradeBalanceChart/D3TradeBalanceChart'\nimport { initializeTradeBalanceData, initializeTradeData } from './reducers/tradeDataReducer'\nimport { initializeCountryCodes } from './reducers/countryReducer'\nimport './App.scss'\n\nconst App = () => {\n  const dispatch = useDispatch()\n\n  const [country, setCountry] = useState([])\n  const [countryFilter, setCountryFilter] = useState('')\n\n  const handleCountryFilterChange = countryName => {\n    setCountryFilter(countryName)\n    const country = state.countryCodes.filter(c => c.name === countryName)\n    setCountry(country)\n  }\n\n  const state = useSelector(state => state)\n  const tradeData = state.tradeData\n  const tradeBalance = tradeData.tradeBalance\n  const isLoading = state.isLoading\n  const year = state.year\n\n  useEffect(() => {\n    dispatch(initializeCountryCodes())\n    dispatch(initializeTradeBalanceData())\n  }, [dispatch])\n\n  useEffect(() => {\n    dispatch(initializeTradeData(year))\n  }, [year, dispatch])\n\n  return (\n    <div className={state.darkModeActive ? 'main-container dark-mode' : 'main-container'}>\n      <Container fluid>\n        <NavBar year={year} darkModeActive={state.darkModeActive} />\n        {isLoading && (\n          <div style={{ height: '100vh' }}>\n            <Loader active />\n          </div>\n        )}\n        {!isLoading && (\n          <div>\n            <ScrollableAnchor id={'trade-map'}>\n              <section\n                className={state.darkModeActive ? 'chart-section dark-mode' : 'chart-section'}>\n                <MapWrapper\n                  imports={tradeData.importsData}\n                  exports={tradeData.exportsData}></MapWrapper>\n                <a href='#trade-balance' className='anchor-link'>\n                  <div className='arrow-down'></div>\n                </a>\n              </section>\n            </ScrollableAnchor>\n            <ScrollableAnchor id={'trade-balance'}>\n              <section\n                className={state.darkModeActive ? 'chart-section dark-mode' : 'chart-section'}>\n                <D3TradeBalanceChart\n                  tradeBalance={tradeBalance}\n                  darkModeActive={state.darkModeActive}></D3TradeBalanceChart>\n                <a href='#imports-by-product' className='anchor-link'>\n                  <div className='arrow-down'></div>\n                </a>\n              </section>\n            </ScrollableAnchor>\n            <ScrollableAnchor id={'imports-by-product'}>\n              <section\n                className={state.darkModeActive ? 'chart-section dark-mode' : 'chart-section'}>\n                <TreeMapWrapper sitc2Data={tradeData.sitc2Data} year={year} />\n                <a href='#trade-partners' className='anchor-link'>\n                  <div className='arrow-down'></div>\n                </a>\n              </section>\n            </ScrollableAnchor>\n            <ScrollableAnchor id={'trade-partners'}>\n              <section\n                className={state.darkModeActive ? 'chart-section dark-mode' : 'chart-section'}>\n                {country.length === 0 && (\n                  <CountrySearch\n                    countryFilter={countryFilter}\n                    handleCountryFilterChange={handleCountryFilterChange}\n                    countryCodes={state.countryCodes}\n                  />\n                )}\n                {country.length !== 0 && (\n                  <CountryDataWrapper\n                    country={country[0]}\n                    setCountry={setCountry}\n                    setCountryFilter={setCountryFilter}\n                    year={year}\n                    tradePartnerRankings={tradeData.tradePartnerRankings}\n                  />\n                )}\n              </section>\n            </ScrollableAnchor>\n          </div>\n        )}\n        <Footer darkModeActive={state.darkModeActive} />\n      </Container>\n    </div>\n  )\n}\n\nexport default App\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport store from './store'\nimport { Provider } from 'react-redux'\nimport App from './App'\n\nReactDOM.render(\n  <Provider store={store}>\n    <App />\n  </Provider>,\n  document.getElementById('root')\n)\n"],"sourceRoot":""}